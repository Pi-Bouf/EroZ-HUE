/*! Eroz 2016-12-13 */
var jsHueAPI=function(a,b){var c=function(a,b){return a.replace(/\{(\w+)\}/g,function(a,c){return b[c]||a})},d=function(){return Array.prototype.slice.call(arguments,0).join("/")},e=function(b,c,d,e,f){var g=new a;return g.onreadystatechange=function(){4===g.readyState&&(200===g.status?e&&e(g.responseText):f&&f({type:"xhr",code:g.status,message:g.statusText}))},g.open(b,c,!0),g.send(d),!0},f=function(a,c,d,f,g){var h=function(a){try{a=b.parse(a)}catch(a){return g&&g({type:"json",message:a.message}),!1}f&&f(a)};if(null!==d)try{d=b.stringify(d)}catch(a){return g&&g({type:"json",message:a.message}),!1}return e(a,c,d,h,g)},g=function(a,b,c,d){return f(a,b,null,c,d)},h=g.bind(null,"GET"),i=f.bind(null,"PUT"),j=f.bind(null,"POST"),k=g.bind(null,"DELETE"),l=function(a,b){return function(c){return a.apply(null,[b(c)].concat(Array.prototype.slice.call(arguments,1)))}};return{discover:h.bind(null,"https://www.meethue.com/api/nupnp"),bridge:function(a){var b=c("http://{ip}/api",{ip:a});return{createUser:function(a,c,d){var e={devicetype:a};return j(b,e,c,d)},user:function(a){var c=d(b,a),e=d(c,"info"),f=d(c,"config"),g=d(c,"lights"),m=d(c,"groups"),n=d(c,"schedules"),o=d(c,"scenes"),p=d(c,"sensors"),q=d(c,"rules"),r=function(a){return function(b){return d(a,b)}},s=r(g),t=r(m),u=r(n),v=r(o),w=r(p),x=r(q);return{getTimezones:h.bind(null,d(e,"timezones")),create:function(c,d,e){var f={username:a,devicetype:c};return j(b,f,d,e)},deleteUser:l(k,function(a){return d(f,"whitelist",a)}),getConfig:h.bind(null,f),setConfig:i.bind(null,f),getFullState:h.bind(null,c),getLights:h.bind(null,g),getNewLights:h.bind(null,d(g,"new")),searchForNewLights:j.bind(null,g,null),getLight:l(h,s),setLight:l(i,s),setLightState:l(i,function(a){return d(s(a),"state")}),getGroups:h.bind(null,m),createGroup:j.bind(null,m),getGroup:l(h,t),setGroup:l(i,t),setGroupState:l(i,function(a){return d(t(a),"action")}),deleteGroup:l(k,t),getSchedules:h.bind(null,n),createSchedule:j.bind(null,n),getSchedule:l(h,u),setSchedule:l(i,u),deleteSchedule:l(k,u),getScenes:h.bind(null,o),setScene:l(i,v),setSceneLightState:function(a,b,c,e,f){return i(d(v(a),"lights",b,"state"),c,e,f)},getSensors:h.bind(null,p),createSensor:j.bind(null,p),searchForNewSensors:j.bind(null,p,null),getNewSensors:h.bind(null,d(p,"new")),getSensor:l(h,w),setSensor:l(i,w),setSensorConfig:l(i,function(a){return d(w(a),"config")}),setSensorState:l(i,function(a){return d(w(a),"state")}),deleteSensor:l(k,w),getRules:h.bind(null,q),createRule:j.bind(null,q),getRule:l(h,x),setRule:l(i,x),deleteRule:l(k,x)}}}}}};if("undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof JSON)var jsHue=jsHueAPI.bind(null,XMLHttpRequest,JSON);